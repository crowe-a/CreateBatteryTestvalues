import pandas as pd
import numpy as np

flag = "LFP"

# 1) Excel dosyasını oku
df = pd.read_excel(f"CreateBatteryTestvalues\{flag}.xlsx", sheet_name="Sheet1")

# 2) Excel'den akım değerlerini al (örnek sütun adı: "Current")
current_values = df[flag].values  # NumPy array

# 3) Python içindeki gerilim değerleri (örnek)
# Buraya senin pil gerilim değerlerin gelecek, uzunluk Excel'deki ile aynı olmalı
voltage_list = [3.7, 3.68, 3.65, 3.63, 3.6, 3.58, 3.55]  # Örnek, yerine kendi listeyi koy
NMC=[53.7388, 53.7388, 53.7388, 53.7388, 53.7388, 53.7388, 53.7388, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7264, 53.7326, 53.7264, 53.7326, 53.7326, 53.7326, 53.7264, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7264, 53.7326, 53.7264, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7264, 53.7326, 53.7326, 53.7326, 53.7264, 53.7264, 53.7264, 53.7326, 53.7326, 53.7264, 53.7326, 53.7326, 53.7326, 53.7264, 53.7326, 53.7326, 53.7264, 53.7264, 53.7264, 53.7326, 53.7326, 53.7326, 53.7264, 53.7264, 53.7264, 53.7264, 53.7264, 53.7264, 53.7326, 53.7326, 53.7326, 53.7326, 53.7326, 53.7264, 53.7326, 53.7326, 53.7326, 53.7264, 53.7326, 53.7264, 53.7264, 53.7264, 53.7264, 53.7326, 53.7264, 53.7264, 53.7264, 51.4446, 51.3516, 51.2772, 51.2152, 51.1594, 51.1098, 51.0602, 51.0168, 50.9734, 50.9362, 51.2586, 51.2338, 51.209, 51.1842, 51.1594, 51.1408, 51.116, 51.0912, 51.0726, 51.0478, 52.9265, 52.9761, 53.0071, 53.0381, 53.0629, 53.0815, 53.1001, 53.1187, 53.1374, 53.1498, 51.085, 51.0292, 50.9796, 50.9362, 50.9052, 50.8742, 50.8432, 50.8122, 50.7874, 50.7626, 52.8087, 52.8583, 52.8955, 52.9265, 52.9513, 52.9699, 52.9885, 53.0071, 53.0257, 53.0381, 53.0567, 53.0691, 53.0815, 53.0939, 53.1063, 53.1125, 53.125, 53.1374, 53.1498, 53.156, 53.1622, 53.1746, 53.1808, 53.187, 53.1932, 53.1994, 53.2056, 53.2118, 53.218, 53.2242, 53.2304, 53.2366, 53.2428, 53.249, 53.249, 53.2552, 53.2614, 53.2676, 53.2676, 53.2738, 53.2738, 53.28, 53.2862, 53.2862, 53.2924, 53.2924, 53.2986, 53.2986, 53.2986, 53.3048, 53.311, 53.311, 53.311, 53.3172, 53.3172, 53.3172, 53.3234, 53.3234, 53.3234, 53.3296, 53.3296, 53.3296, 53.3358, 53.3358, 53.3358, 53.342, 53.342, 53.342, 53.342, 53.3482, 53.3482, 53.3482, 53.3482, 53.3544, 53.3544, 53.3544, 53.3544, 53.3606, 53.3544, 53.3606, 53.3606, 53.3606, 53.3606, 53.3606, 53.3606, 53.3668, 53.3668, 53.3668, 53.3668, 53.3668, 53.3668, 53.373, 53.3668, 53.373, 53.373, 53.373, 53.373, 53.373, 53.373, 53.3792, 53.3792, 53.3792, 53.3792, 53.3792, 53.3792, 53.3792, 53.3792, 53.3854, 53.3792, 53.3854, 53.3854, 53.3854, 53.3854, 53.3854, 53.3854, 53.3854, 53.3854, 53.3854, 53.3854, 53.3916, 53.3916, 53.3916, 53.3854, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3916, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.3978, 53.404, 53.404, 53.3978, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.404, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4164, 53.4102, 53.4102, 53.4102, 53.4102, 53.4102, 53.4164, 53.4164, 53.4164, 53.4102, 53.4102, 53.4102, 53.4164, 53.4102, 53.4102, 53.4164, 53.4102, 53.4164, 53.4164, 53.4164, 53.4164, 53.4164, 53.4102, 53.4164, 53.4164, 53.4164, 51.5252, 51.457, 51.395, 51.3454, 51.302, 51.2648, 51.2276, 51.1904, 51.1594, 51.1284, 52.9823, 53.0257, 53.0505, 53.0691, 53.0877, 53.1001, 53.1125, 53.125, 53.1374, 53.1498, 51.4508, 51.4012, 51.3578, 51.3206, 51.2896, 51.2648, 51.2338, 51.209, 51.1842, 51.1656, 50.961, 50.9362, 50.9114, 50.8928, 50.868, 50.8494, 50.8308, 50.8122, 50.7936, 50.775, 52.6351, 52.6909, 52.7281, 52.7529, 52.7839, 52.8025, 52.8211, 52.8397, 52.8583, 52.8769, 52.8893, 52.9017, 52.9141, 52.9265, 52.9389, 52.9513, 52.9575, 52.9699, 52.9761, 52.9885, 52.9947, 53.0071, 53.0133, 53.0195, 53.0257, 53.0381, 53.0381, 53.0505, 53.0567, 53.0629, 51.0168, 50.9424, 50.8866, 50.8432, 50.806, 50.7688, 50.7316, 50.7006, 50.6758, 50.6448, 50.341, 50.3038, 50.2728, 50.2418, 50.217, 50.1922, 50.1674, 50.1426, 50.1178, 50.0992, 50.5332, 50.527, 50.5208, 50.5146, 50.5022, 50.4898, 50.4836, 50.4712, 50.4712, 50.4588, 52.3065, 52.3685, 52.4119, 52.4491, 52.4801, 52.5049, 52.5359, 52.5545, 52.5793, 52.6041, 52.6165, 52.6351, 52.6537, 52.6723, 52.6847, 52.6971, 52.7095, 52.7281, 52.7405, 52.7467, 52.7591, 52.7715, 52.7839, 52.7901, 52.8025, 52.8149, 52.8211, 52.8273, 52.8397, 52.8459, 52.8521, 52.8645, 52.8645, 52.8769, 52.8831, 52.8893, 52.8893, 52.9017, 52.9017, 52.9079, 52.9141, 52.9203, 52.9265, 52.9265, 52.9327, 52.9389, 52.9389, 52.9451, 52.9513, 52.9513, 52.9575, 52.9575, 52.9637, 52.9637, 52.9699, 52.9699, 52.9761, 52.9761, 52.9761, 52.9823, 52.9823, 52.9885, 52.9885, 52.9947, 52.9947, 52.9947, 53.0009, 53.0009, 53.0009, 53.0071, 51.333, 51.2648, 51.2152, 51.1718, 51.1346, 51.1036, 51.0726, 51.0478, 51.0168, 50.992, 52.6413, 52.6847, 52.7157, 52.7405, 52.7591, 52.7777, 52.7901, 52.8025, 52.8149, 52.8211, 52.8335, 52.8397, 52.8521, 52.8583, 52.8645, 52.8707, 52.8769, 52.8831, 52.8893, 52.8955, 51.2276, 51.1656, 51.116, 51.0788, 51.0416, 51.0106, 50.9858, 50.961, 50.9362, 50.9114, 50.8928, 50.868, 50.8556, 50.8308, 50.8184, 50.7998, 50.7812, 50.7688, 50.7564, 50.744, 50.3782, 50.3534, 50.3286, 50.31, 50.2914, 50.2728, 50.2542, 50.2418, 50.2232, 50.2108, 50.0186, 50.0, 49.9813, 49.9689, 49.9503, 49.9379, 49.9193, 49.9007, 49.8883, 49.8821, 52.0461, 52.1081, 52.1639, 52.2073, 52.2383, 52.2693, 52.3003, 52.3251, 52.3499, 52.3747, 50.3906, 50.3348, 50.2976, 50.2604, 50.2356, 50.2108, 50.186, 50.1674, 50.1488, 50.1302, 49.9441, 49.9193, 49.9007, 49.8883, 49.8697, 49.8511, 49.8387, 49.8263, 49.8139, 49.8015, 50.1302, 50.1364, 50.1302, 50.1302, 50.124, 50.1178, 50.1116, 50.1116, 50.1054, 50.1054, 51.9097, 51.9779, 52.0213, 52.0647, 52.1019, 52.1329, 52.1577, 52.1887, 52.2135, 52.2321, 50.4464, 50.3968, 50.3658, 50.3348, 50.31, 50.2914, 50.2728, 50.2604, 50.2418, 50.2294, 50.0434, 50.0248, 50.0062, 49.9937, 49.9813, 49.9689, 49.9565, 49.9441, 49.9379, 49.9255, 50.0806, 50.0744, 50.0744, 50.0682, 50.062, 50.0558, 50.0496, 50.0496, 50.0434, 50.0372, 49.3551, 49.3303, 49.3055, 49.2869, 49.2683, 49.2497, 49.2373, 49.2249, 49.2125, 49.1939, 49.5287, 49.5225, 49.5225, 49.5163, 49.5101, 49.5101, 49.5039, 49.4977, 49.4977, 49.4915, 49.3179, 49.3117, 49.3055, 49.2993, 49.2869, 49.2807, 49.2745, 49.2683, 49.2621, 49.2559, 49.3179, 49.3117, 49.3117, 49.3055, 49.3055, 49.2993, 49.2931, 49.2869, 49.2869, 49.2807, 49.0451, 49.0265, 49.0203, 49.0141, 49.0017, 48.9955, 48.9893, 48.9831, 48.9769, 48.9707, 48.7971, 48.7785, 48.7723, 48.7661, 48.7537, 48.7475, 48.7413, 48.7289, 48.7289, 48.7165, 48.5429, 48.5305, 48.5243, 48.5119, 48.5057, 48.4995, 48.4871, 48.4809, 48.4747, 48.4623, 48.1212, 48.1026, 48.0902, 48.0778, 48.0654, 48.053, 48.0406, 48.0344, 48.022, 48.0096, 48.0034, 47.991, 47.9848, 47.9786, 47.9724, 47.96, 47.9538, 47.9476, 47.9352, 47.9352, 47.9228, 47.9228, 47.9166, 47.9104, 47.9042, 47.898, 47.8918, 47.8856, 47.8794, 47.8732, 48.8653, 48.8963, 48.9211, 48.9397, 48.9521, 48.9707, 48.9769, 48.9893, 49.0017, 49.0079, 51.054, 51.1346, 51.1966, 51.2524, 51.302, 51.3516, 51.3888, 51.426, 51.4694, 51.5004, 49.8387, 49.8077, 49.7891, 49.7767, 49.7643, 49.7519, 49.7457, 49.7395, 49.7333, 49.7271, 49.5597, 49.5473, 49.5349, 49.5287, 49.5225, 49.5163, 49.5101, 49.5039, 49.4915, 49.4915, 49.6403, 49.6403, 49.6403, 49.6403, 49.6403, 49.6403, 49.6403, 49.6403, 49.6403, 49.6341, 49.3117, 49.3055, 49.2931, 49.2807, 49.2745, 49.2683, 49.2559, 49.2497, 49.2435, 49.2373, 49.0761, 49.0637, 49.0513, 49.0451, 49.0389, 49.0265, 49.0203, 49.0079, 49.0079, 49.0017, 48.5119, 48.4871, 48.4685, 48.4499, 48.4375, 48.425, 48.4064, 48.4002, 48.3816, 48.3754, 48.5243, 48.5181, 48.5119, 48.5057, 48.4995, 48.4995, 48.4871, 48.4871, 48.4809, 48.4747, 49.1133, 49.1319, 49.1443, 49.1505, 49.1629, 49.1691, 49.1753, 49.1815, 49.1877, 49.1939, 51.023, 51.0974, 51.1532, 51.1966, 51.24, 51.2834, 51.3144, 51.3516, 51.3826, 51.4074, 49.6217, 49.5845, 49.5597, 49.5349, 49.5163, 49.4977, 49.4853, 49.4729, 49.4605, 49.4481, 49.2745, 49.2621, 49.2435, 49.2311, 49.2187, 49.2125, 49.2001, 49.1877, 49.1815, 49.1753, 49.4791, 49.4853, 49.4853, 49.4853, 49.4853, 49.4853, 49.4853, 49.4853, 49.4791, 49.4791, 49.1629, 49.1505, 49.1443, 49.1319, 49.1257, 49.1195, 49.1133, 49.1009, 49.1009, 49.0885, 49.3985, 49.4047, 49.4047, 49.4109, 49.4109, 49.4109, 49.4109, 49.4171, 49.4171, 49.4171, 49.1009, 49.0947, 49.0823, 49.0761, 49.0699, 49.0575, 49.0513, 49.0451, 49.0451, 49.0389, 48.8095, 48.7971, 48.7909, 48.7785, 48.7661, 48.7599, 48.7537, 48.7413, 48.7351, 48.7289, 48.6297, 48.6173, 48.6049, 48.5987, 48.5925, 48.5801, 48.5739, 48.5677, 48.5615, 48.5553, 49.1753, 49.1939, 49.2001, 49.2125, 49.2187, 49.2249, 49.2311, 49.2373, 49.2435, 49.2435, 50.8928, 50.9548, 51.0044, 51.0478, 51.085, 51.1222, 51.1532, 51.1842, 51.2152, 51.24, 51.271, 51.2958, 51.3144, 51.3392, 51.3578, 51.3764, 51.395, 51.4136, 51.426, 51.4446, 51.4632, 51.4756, 51.488, 51.5066, 51.519, 51.5314, 51.5376, 51.5562, 51.5625, 51.5749, 51.5811, 51.5935, 51.5997, 51.6121, 51.6183, 51.6307, 51.6369, 51.6493, 51.6493, 51.6617, 49.7333, 49.6713, 49.6217, 49.5783, 49.5411, 49.5101, 49.4791, 49.4481, 49.4171, 49.3923, 48.7475, 48.7041, 48.6607, 48.6235, 48.5863, 48.5553, 48.5243, 48.4933, 48.4685, 48.4437, 48.4188, 48.394, 48.3692, 48.3506, 48.3258, 48.3072, 48.2886, 48.27, 48.2514, 48.2328, 48.2204, 48.208, 48.1894, 48.177, 48.1584, 48.146, 48.1336, 48.1212, 48.115, 48.1026, 48.2452, 48.2328, 48.2328, 48.2204, 48.2204, 48.208, 48.2018, 48.1956, 48.1894, 48.1832, 50.5828, 50.6634, 50.7254, 50.775, 50.8246, 50.868, 50.9052, 50.9424, 50.9796, 51.0106, 51.0416, 51.0664, 51.0912, 51.116, 51.1408, 51.1656, 51.1842, 51.2028, 51.2214, 51.24, 51.2648, 51.2772, 51.2958, 51.3082, 51.3268, 51.3392, 51.3516, 51.364, 51.3764, 51.3888]
LFP=[51.4818, 51.4818, 51.4818, 51.4818, 51.4756, 51.4756, 50.0186, 49.5597, 49.2993, 49.1319, 49.0017, 48.8839, 48.7909, 48.7041, 48.6235, 48.5553, 48.4871, 48.6359, 48.5925, 48.5553, 48.5057, 48.4685, 48.4312, 48.394, 48.3568, 48.3258, 48.2948, 48.0592, 48.022, 47.9848, 47.9538, 47.9228, 47.898, 47.867, 47.8422, 47.8174, 47.7926, 48.5181, 48.5305, 48.5367, 48.5429, 48.5429, 48.5429, 48.5491, 48.5491, 48.5491, 48.5491, 49.3179, 49.3489, 49.3799, 49.4047, 49.4295, 49.4481, 49.4667, 49.4853, 49.4977, 49.5101, 48.0034, 47.9538, 47.9042, 47.867, 47.8298, 47.805, 47.7802, 47.7554, 47.7368, 47.7182, 47.2346, 47.2036, 47.1726, 47.1478, 47.1292, 47.1106, 47.092, 47.0796, 47.0672, 47.0548, 47.1726, 47.1664, 47.1602, 47.154, 47.1478, 47.1416, 47.1354, 47.1292, 47.1292, 47.1168, 47.1168, 47.1106, 47.1044, 47.1044, 47.1044, 47.092, 47.092, 47.092, 47.0858, 47.0796, 47.7864, 47.805, 47.8236, 47.836, 47.8546, 47.8608, 47.867, 47.8794, 47.8856, 47.8918, 47.2842, 47.2656, 47.2532, 47.247, 47.2346, 47.2284, 47.2284, 47.2222, 47.216, 47.2098, 48.053, 48.084, 48.1088, 48.1212, 48.1336, 48.1522, 48.1584, 48.1708, 48.177, 48.1894, 47.8174, 47.8112, 47.805, 47.7988, 47.7988, 47.7926, 47.7926, 47.7926, 47.7926, 47.7926, 47.557, 47.5508, 47.5384, 47.5322, 47.526, 47.526, 47.5198, 47.5198, 47.5136, 47.5074, 48.9521, 49.0141, 49.0575, 49.0947, 49.1319, 49.1567, 49.1815, 49.2063, 49.2311, 49.2497, 49.2683, 49.2869, 49.2993, 49.3179, 49.3365, 49.3427, 49.3613, 49.3737, 49.3861, 49.3923, 47.4826, 47.4082, 47.3524, 47.309, 47.2718, 47.2346, 47.2098, 47.1788, 47.1602, 47.1354, 46.9866, 46.968, 46.9432, 46.9246, 46.9122, 46.8936, 46.8812, 46.8687, 46.8563, 46.8501, 48.8467, 48.9273, 48.9831, 49.0327, 49.0699, 49.1071, 49.1381, 49.1629, 49.1939, 49.2125, 49.2373, 49.2559, 49.2745, 49.2931, 49.3117, 49.3241, 49.3365, 49.3489, 49.3613, 49.3799, 47.3896, 47.309, 47.2532, 47.2036, 47.1602, 47.123, 47.1044, 47.0734, 47.0486, 47.03, 48.9769, 49.0451, 49.1009, 49.1381, 49.1753, 49.2063, 49.2311, 49.2559, 49.2807, 49.2993, 47.4206, 47.3462, 47.2966, 47.2594, 47.2222, 47.1912, 47.1664, 47.1416, 47.123, 47.1044, 48.0158, 48.0282, 48.0406, 48.0592, 48.0654, 48.0716, 48.0778, 48.084, 48.084, 48.0902, 49.0575, 49.1071, 49.1443, 49.1753, 49.2063, 49.2311, 49.2497, 49.2745, 49.2931, 49.3117, 47.898, 47.8422, 47.7988, 47.7678, 47.743, 47.7182, 47.7058, 47.6872, 47.6748, 47.6562, 47.3214, 47.3028, 47.278, 47.2656, 47.247, 47.2346, 47.2222, 47.2098, 47.1974, 47.185, 47.4888, 47.5012, 47.5012, 47.5012, 47.5012, 47.5012, 47.5012, 47.5012, 47.5012, 47.5012, 47.9538, 47.9724, 47.991, 47.9972, 48.0096, 48.0158, 48.022, 48.0282, 48.0344, 48.0406, 47.588, 47.5694, 47.557, 47.5508, 47.5384, 47.5384, 47.5322, 47.526, 47.5198, 47.5136, 47.3772, 47.371, 47.3648, 47.3524, 47.3524, 47.3462, 47.34, 47.3338, 47.3338, 47.3276, 47.4578, 47.464, 47.464, 47.464, 47.464, 47.464, 47.464, 47.464, 47.464, 47.464, 47.3276, 47.3214, 47.3152, 47.3152, 47.309, 47.309, 47.3028, 47.3028, 47.3028, 47.2966, 48.8219, 48.8901, 48.9459, 48.9893, 49.0265, 49.0575, 49.0947, 49.1195, 49.1443, 49.1629, 47.7864, 47.7368, 47.7058, 47.681, 47.6562, 47.6376, 47.6252, 47.6128, 47.6004, 47.5942, 47.1354, 47.1044, 47.0858, 47.0734, 47.0548, 47.0362, 47.03, 47.0114, 47.0052, 46.9928, 47.4268, 47.4392, 47.4454, 47.4454, 47.4516, 47.4516, 47.4516, 47.4578, 47.4578, 47.4578, 47.9104, 47.929, 47.9414, 47.9538, 47.9662, 47.9786, 47.9848, 47.991, 47.9972, 48.0034, 47.9228, 47.9228, 47.9228, 47.9228, 47.9228, 47.929, 47.929, 47.929, 47.9352, 47.9352, 48.9583, 49.0141, 49.0513, 49.0885, 49.1195, 49.1443, 49.1691, 49.1877, 49.2063, 49.2311, 48.3072, 48.2762, 48.2576, 48.2452, 48.2266, 48.2204, 48.208, 48.2018, 48.1956, 48.1894, 47.4144, 47.3772, 47.3462, 47.3214, 47.2966, 47.278, 47.2594, 47.2408, 47.2284, 47.216, 47.2904, 47.2842, 47.278, 47.2718, 47.2656, 47.2594, 47.2532, 47.2408, 47.2408, 47.2346, 47.1416, 47.1292, 47.123, 47.1168, 47.1044, 47.1044, 47.0982, 47.0982, 47.0858, 47.0858, 48.7537, 48.8281, 48.8839, 48.9335, 48.9707, 49.0079, 49.0389, 49.0699, 49.0947, 49.1195, 49.1443, 49.1629, 49.1815, 49.2001, 49.2187, 49.2373, 49.2497, 49.2683, 49.2807, 49.2931, 49.3055, 49.3179, 49.3303, 49.3427, 49.3489, 49.3613, 49.3675, 49.3799, 49.3861, 49.3985, 49.4047, 49.4109, 49.4233, 49.4295, 49.4357, 49.4419, 49.4481, 49.4543, 49.4605, 49.4667, 49.4729, 49.4791, 49.4853, 49.4915, 49.4977, 49.5039, 49.5039, 49.5101, 49.5163, 49.5163, 48.5863, 48.5367, 48.5057, 48.4809, 48.4499, 48.4312, 48.4126, 48.394, 48.3816, 48.3692, 49.2869, 49.3241, 49.3551, 49.3799, 49.3985, 49.4109, 49.4233, 49.4419, 49.4543, 49.4605, 49.4729, 49.4791, 49.4853, 49.4977, 49.5039, 49.5101, 49.5163, 49.5225, 49.5287, 49.5287, 49.5349, 49.5411, 49.5473, 49.5473, 49.5535, 49.5597, 49.5597, 49.5659, 49.5659, 49.5721, 49.5721, 49.5783, 49.5845, 49.5845, 49.5845, 49.5907, 49.5969, 49.5969, 49.5969, 49.6031, 49.6031, 49.6093, 49.6093, 49.6155, 49.6155, 49.6155, 49.6217, 49.6155, 49.6217, 49.6217, 48.4561, 48.3878, 48.3382, 48.301, 48.2638, 48.2328, 48.208, 48.1832, 48.1584, 48.1398, 48.3506, 48.3382, 48.332, 48.3258, 48.3196, 48.3072, 48.301, 48.2948, 48.2886, 48.2762, 47.3772, 47.3338, 47.2966, 47.2656, 47.2408, 47.216, 47.1912, 47.1726, 47.1478, 47.1292, 47.5508, 47.5632, 47.5632, 47.5632, 47.557, 47.557, 47.5508, 47.5508, 47.5446, 47.5384, 47.9786, 47.9972, 48.0096, 48.0158, 48.022, 48.0282, 48.0406, 48.0406, 48.0468, 48.0468, 47.6066, 47.588, 47.5756, 47.5694, 47.557, 47.5508, 47.5446, 47.5384, 47.5322, 47.526, 47.2966, 47.2904, 47.278, 47.2656, 47.2594, 47.247, 47.2408, 47.2346, 47.2284, 47.2222, 48.7847, 48.8591, 48.9087, 48.9583, 48.9955, 49.0327, 49.0575, 49.0885, 49.1133, 49.1319, 47.3586, 47.2842, 47.2346, 47.1912, 47.154, 47.1292, 47.1044, 47.0858, 47.0672, 47.0548, 47.464, 47.4764, 47.4764, 47.4764, 47.4764, 47.4764, 47.4764, 47.4764, 47.4702, 47.4702, 48.8095, 48.8777, 48.9273, 48.9707, 49.0079, 49.0389, 49.0637, 49.0885, 49.1133, 49.1381, 49.1567, 49.1753, 49.1939, 49.2125, 49.2249, 49.2435, 49.2559, 49.2683, 49.2807, 49.2931, 49.3055, 49.3179, 49.3241, 49.3365, 49.3427, 49.3551, 49.3613, 49.3737, 49.3799, 49.3861, 49.3985, 49.4047, 49.4109, 49.4171, 49.4233, 49.4295, 49.4357, 49.4419, 49.4481, 49.4543, 48.3134, 48.2514, 48.208, 48.177, 48.146, 48.1212, 48.0964, 48.0778, 48.0592, 48.0406, 49.1629, 49.2125, 49.2497, 49.2745, 49.2931, 49.3179, 49.3365, 49.3489, 49.3613, 49.3737, 49.3861, 49.3985, 49.4109, 49.4171, 49.4295, 49.4357, 49.4419, 49.4481, 49.4543, 49.4605, 49.4667, 49.4729, 49.4791, 49.4853, 49.4915, 49.4977, 49.5039, 49.5039, 49.5101, 49.5163, 47.7058, 47.6066, 47.5384, 47.4826, 47.433, 47.3896, 47.3524, 47.3214, 47.2904, 47.2656, 49.0141, 49.0823, 49.1257, 49.1629, 49.2001, 49.2249, 49.2497, 49.2683, 49.2931, 49.3117, 49.3241, 49.3427, 49.3551, 49.3675, 49.3799, 49.3923, 49.3985, 49.4109, 49.4233, 49.4295, 49.4357, 49.4481, 49.4543, 49.4605, 49.4667, 49.4791, 49.4853, 49.4853, 49.4977, 49.5039, 49.5039, 49.5101, 49.5163, 49.5225, 49.5225, 49.5287, 49.5287, 49.5349, 49.5411, 49.5411, 49.5473, 49.5473, 49.5535, 49.5597, 49.5597, 49.5659, 49.5659, 49.5659, 49.5721, 49.5783, 49.5783, 49.5783, 49.5845, 49.5845, 49.5907, 49.5907, 49.5907, 49.5907, 49.5969, 49.5969, 49.6031, 49.6031, 49.6031, 49.6093, 49.6093, 49.6093, 49.6155, 49.6155, 49.6155, 49.6155, 49.6217, 49.6217, 49.6217, 49.6279, 49.6279, 49.6279, 49.6341, 49.6341, 49.6341, 49.6341, 49.6341, 49.6403, 49.6403, 49.6403, 49.6465, 49.6465, 49.6465, 49.6465, 49.6465, 49.6527, 49.6527, 49.6527, 49.6527, 49.6527, 49.6589, 49.6589, 49.6589, 49.6589, 49.6589, 49.6651, 49.6651, 49.6651, 49.6651, 49.6713, 49.6651, 49.6713, 49.6713, 49.6713, 49.6713, 49.6775, 49.6775, 49.6775, 49.6775, 49.6775, 49.6775, 49.6775, 49.6837, 49.6837, 49.6837, 49.6837, 49.6837, 49.6837, 49.6837, 49.6899, 49.6899, 49.6899, 49.6899, 49.6899, 49.6899, 49.6899, 49.6961, 49.6961, 49.6961, 49.6961, 49.6961, 49.6961, 49.6961, 49.7023, 49.7023, 49.6961, 48.332, 48.2328, 48.1646, 48.115, 48.0654, 48.0282, 47.991, 47.96, 47.929, 47.9042, 49.2373, 49.2931, 49.3303, 49.3613, 49.3861, 49.4047, 49.4233, 49.4419, 49.4543, 49.4729, 49.4853, 49.4977, 49.5101, 49.5163, 49.5287, 49.5349, 49.5473, 49.5535, 49.5597, 49.5659, 49.5721, 49.5783, 49.5845, 49.5907, 49.5969, 49.6031, 49.6031, 49.6093, 49.6155, 49.6217, 49.6217, 49.6279, 49.6279, 49.6341, 49.6341, 49.6403, 49.6465, 49.6465, 49.6527, 49.6527, 49.6589, 49.6589, 49.6589, 49.6651, 49.6651, 49.6651, 49.6713, 49.6713, 49.6713, 49.6713, 49.6775, 49.6775, 49.6775, 49.6837, 49.6837, 49.6837, 49.6899, 49.6899, 49.6899, 49.6961, 49.6961, 49.6961, 49.6961, 49.7023, 49.7023, 49.7023, 49.7023, 49.7085, 49.7085, 49.7085, 49.7085, 49.7085, 49.7085, 49.7147, 49.7147, 49.7147, 49.7147, 49.7147, 49.7209, 49.7209, 48.3444, 48.2452, 48.177, 48.1212, 48.0716, 48.0344, 47.9972, 47.9662, 47.9352, 47.9104, 49.2435, 49.2993, 49.3365, 49.3675, 49.3923, 49.4109, 49.4357, 49.4481, 49.4667, 49.4791, 49.4915, 49.4977, 49.5163, 49.5225, 49.5349, 49.5411, 49.5473, 49.5597, 49.5659, 49.5721, 49.5845, 49.5845, 49.5969, 49.5969, 49.6093, 49.6093, 49.6155, 49.6217, 49.6279, 49.6341, 49.6341, 49.6403, 49.6403, 49.6465, 49.6527, 49.6527, 49.6589, 49.6589, 49.6651, 49.6651, 49.6713, 49.6713, 49.6713, 49.6775, 49.6775, 49.6837, 49.6837, 49.6837, 49.6899, 49.6899, 49.6899, 49.6961, 49.6961, 49.7023, 49.7023, 49.7023, 49.7023, 49.7085, 49.7085, 49.7085, 49.7085, 49.7085, 49.7147, 49.7147, 49.7147, 49.7147, 49.7209, 49.7209, 49.7209, 49.7209, 49.7209, 49.7271, 49.7271, 49.7271, 49.7271, 49.7271, 49.7271, 49.7333, 49.7333, 49.7333, 49.7333, 49.7333, 49.7333, 49.7333, 49.7333, 49.7395, 49.7395, 49.7395, 49.7395, 49.7395, 48.5739, 48.4995, 48.4375, 48.394, 48.3506, 48.3134, 48.2824, 48.2514, 48.2204, 48.1956, 49.3241, 49.3737, 49.4047, 49.4357, 49.4543, 49.4729, 49.4915, 49.5039, 49.5225, 49.5287, 49.5411, 49.5535, 49.5597, 49.5721, 49.5783, 49.5907, 49.5969, 49.6031, 49.6093, 49.6155, 47.7864, 47.681, 47.6004, 47.5384, 47.4826, 47.433, 47.3958, 47.3586, 47.3276, 47.2966, 49.0451, 49.1133, 49.1629, 49.2001, 49.2373, 49.2621, 49.2869, 49.3117, 49.3303, 49.3489, 49.3675, 49.3799, 49.3985, 49.4109, 49.4233, 49.4357, 49.4481, 49.4605, 49.4729, 49.4791, 49.4915, 49.4977, 49.5101, 49.5163, 49.5225, 49.5287, 49.5411, 49.5473, 49.5535, 49.5597, 49.5659, 49.5659, 49.5721, 49.5783, 49.5845, 49.5907, 49.5969, 49.5969, 49.6093, 49.6093, 49.6155, 49.6217, 49.6217, 49.6279, 49.6341, 49.6341, 49.6403, 49.6403, 49.6465, 49.6527, 47.8298, 47.712, 47.6314, 47.5694, 47.5074, 47.464, 47.4144, 47.3772, 47.34, 47.309, 47.929, 47.929, 47.929, 47.929, 47.9228, 47.9166, 47.9104, 47.9042, 47.9042, 47.8918, 49.0141, 49.0699, 49.1071, 49.1443, 49.1753, 49.2001, 49.2249, 49.2435, 49.2683, 49.2869]


voltage_array = np.array(LFP)

# 4) Güç hesaplama (P = V * I)
power_array = voltage_array * current_values

# 5) Toplam güç
total_power = power_array.sum()
print(f"Toplam güç: {total_power} W")

# 6) Kapasite ve SOC hesaplama
# Örnek parametreler:
sampling_interval = 1  # ölçümler arası zaman (saniye)
nominal_capacity_Ah = 1500/1000  # pilin nominal kapasitesi (Amper-saat)

# Enerji tüketimi (Watt-saniye = Joule)
energy_J = (power_array * sampling_interval).sum()  # Joule cinsinden

# Pil kapasitesi Ah cinsinden, enerji cinsine çevirmek için:
# Kapasite (Wh) = nominal_capacity_Ah * nominal_voltage
# Burada nominal_voltage: ortalama gerilim, örneğin 3.7V
nominal_voltage = 54
capacity_Wh = nominal_capacity_Ah * nominal_voltage

# Enerji tüketimi Wh cinsine çevrilir (1 Wh = 3600 Joule)
energy_Wh = energy_J / 3600

# SOC değişimi (basit)
soc_consumed = energy_Wh / capacity_Wh * 100  # yüzde olarak tüketilen SOC

print(f"Tüketilen enerji: {energy_Wh:.3f} Wh")
print(f"Tüketilen SOC: %{soc_consumed:.2f}")

# Eğer başlangıç SOC 100% ise güncel SOC:
soc_current = 100 - soc_consumed
print(f"Güncel SOC tahmini: %{soc_current:.2f}")
